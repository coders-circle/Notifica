{% extends 'base.html' %}
{% load classroom_tags %}
{% load staticfiles %}

{% block title %}
Notifica: News feed
{% endblock %}

{% block head %}
<link href="{% static 'css/navigation-drawer.css' %}" type="text/css" rel="stylesheet">
<link href="{% static 'css/feed.css' %}" type="text/css" rel="stylesheet">
<script src="{% static 'js/jquery.timeago.js' %}"></script>
<script src="{% static 'js/jquery.typewatch.js' %}"></script>
<script src="{% static 'js/feed.js' %}"></script>
<script src="{% static 'js/navigation-drawer.js' %}"></script>
{% endblock %}

{% block body %}
{% include 'navigation-drawer.html' %}
{% include 'posts/userpost-template.html' %}
<div class="msg hidden" id="empty-msg">Sorry, no result found</div>
<div class="msg hidden" id="error-msg">Oops! Something went wrong</div>
<div class="block" id="title-block">
    <div class="container">
        <button class="input-neat" id="drawer-open-btn">
            <i class="fa fa-bars"></i>
        </button>
        <span class="title">News feed</span>
    </div>
</div>
<div class="block" id="content-block">
    <div class="container">
        <div class="row">
            <div id="post-block" class="col-md-8">
                <div class="search-input-container">
                    <i class="fa fa-search"></i>
                    <input class="input-neat" id="search-post-input" type="text" placeholder="search for posts by title, content, tag">
                </div>
                <div class="posts">
                </div>
                <div class="bottom-control-container">
                    <div id="posts-loading-animation"></div>
                    <button class="input-neat" id="more-post-btn"><i class="fa fa-refresh"></i> Load more posts</button>
                </div>
            </div>
            <div id="quick-links-block" class="col-md-4">
                <div class="card card-class-list" id="class-list">
                    <a href="#" class="title">Classes</a>
                    {% for p_class in classes %}
                    <div class="class">
                        <a href="{% url 'classroom:class' p_class.pk %}" class="name">{{p_class.class_id}}</a>
                        {% if p_class.department %}
                            <div class="extra">{{p_class.department.name}}</div>
                        {% else %}
                            <div class="extra">{{p_class.description}}</div>
                        {% endif %}
                    </div>
                    {% if not forloop.last %}<hr>{% endif %}
                    {% endfor %}
                    <div class="bottom-link">
                        <a id="add-class-link" href="{% url 'classroom:add-class' %}" class="name"><i class="fa fa-plus"></i> Add class</a>
                    </div>
                </div>
                <div class="card card-department-list" id="department-list">
                    <a href="#" class="title">Departments</a>
                    {% for department in departments %}
                    <div class="department">
                        <a href="{% url 'classroom:department' department.pk %}" class="name">{{department.name}}</a>
                        <div class="extra">{{department.organization.name}}</div>
                    </div>
                    <div class="bottom-link">
                        <a id="add-department-link" href="{% url 'classroom:add-class' %}" class="name"><i class="fa fa-plus"></i> Add department</a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% include 'footer.html' %}
{% endblock %}
