{% load customtags %}
{% load classroom_tags %}
routine view

<br>
{% for day, periods in routine.items %}
    Day : {{ days|item:forloop.counter0 }}
    
    {% for p in periods %}
        <br>
        {{ p.start_time }}-{{ p.end_time }}
        
        {% with subject=p.subject|linked_object %}
            {% if subject %}
                {{ subject.name }}
            {% else %}
                {{ p.subject }}
            {% endif %}
        {% endwith %}

        Teachers: 
        {% for t in p.teachers|json_decode %}
            {% with teacher=t|linked_object %}
                {% if teacher %}
                    {{ teacher.user.first_name }} {{ teacher.user.last_name }}
                {% else %}
                    {{ t }}
                {% endif %}
            {% endwith %}
        {% endfor %}

        Remarks: {{ p.remarks }}
    {% endfor %}
    <br>
    <br>

{% endfor %}
